jQuery(document).ready(l=>{l("#tabs").tabs({activate:function(t,e){e=e.newTab.find("a").attr("href");history.replaceState(null,null,e)}});let d="install_activate_inspiro_starter_sites_plugin";function s(t,e,a,i){var n=t[e].name;l.ajax({method:"POST",url:ajaxurl,data:{action:"inspiro_install_plugin",security:inspiro_admin_pages_vars.nonce,slug:n},beforeSend:function(){var t=l(".plugin-item-"+n);t.addClass("plugin-item--loading"),t.find("a.button").text("Installing...")}}).done(function(t){var e=l(".plugin-item-"+n);e.removeClass("plugin-item--loading"),t.success?(e.addClass("plugin-item--active"),e.find("input[type=checkbox]").prop("disabled",!0),e.find("a.button").text("Active"),e.find("a.button").addClass("button-disabled")):(-1===t.data.indexOf("<p>")&&(t.data="<p>"+t.data+"</p>"),e.find(".js-inspiro-plugin-item-error").append(t.data),e.find("input[type=checkbox]").prop("checked",!1),i=!0)}).fail(function(t){var e=l(".plugin-item-"+n);e.removeClass("plugin-item--loading"),e.find(".js-inpiro-plugin-item-error").append("<p>"+t.statusText+" ("+t.status+")</p>"),i=!0}).always(function(){++e===t.length?a.removeClass("inspiro-button-disabled"):s(t,e,a,i)})}l("#install-inspiro-starter-sites-btn").on("click",function(){var t,e,a,i,n=l(this),s=(n.addClass("button-disabled"),n.find("#install-inspiro-starter-sites-btn-text")),o=s.text(),r=s.data("installing-text"),r=(s.text(r),n.find(".dashicons-update.spin-icon"));r.removeClass("hidden-element"),t=n,e=s,a=o,i=r,l.ajax({url:ajaxurl,type:"POST",data:{action:d,plugin_slug:"inspiro-starter-sites",security:inspiro_admin_pages_vars.nonce},success:()=>{i.addClass("hidden-element"),t.removeClass("button-disabled"),e.text(a),window.location.reload()},error:t=>{e.text(a)}})}),l("#wpz-notice-inspiro-plugin-handle").on("click",function(a){let i=l(this);var n=i.data("plugin-status");if("active"!==n){a.preventDefault();let e=i.text();n=inspiro_admin_pages_vars.installingText;let t=inspiro_admin_pages_vars.redirectingText;i.text(n),l.ajax({url:ajaxurl,type:"POST",data:{action:d,plugin_slug:"inspiro-starter-sites",security:inspiro_admin_pages_vars.nonce},success:()=>{i.text(t),window.location=inspiro_admin_pages_vars.import_url},error:t=>{i.text(e)}})}}),l(".js-inspiro-plugin-item-button").on("click",function(t){t.preventDefault();var t=l(this),e=t.closest(".section_footer").find("input[type=checkbox]").serializeArray();if(console.log(e),0===e.length)return!1;s(e,0,t,!1)}),0===l(".wpz-grid-wrap .inspiro-plugin-item .section_footer input[type=checkbox]").serializeArray().length&&l(".js-inspiro-install-all-plugins").addClass("button-disabled"),l(".js-inspiro-install-all-plugins").on("click",function(t){t.preventDefault();var t=l(this),e=l(".wpz-grid-wrap .inspiro-plugin-item .section_footer input[type=checkbox]").serializeArray();if(0===e.length)return!1;t.addClass("button-disabled"),s(e,0,t,!1)}),l(".theme-buttons.filters a").on("click",function(t){t.preventDefault();var t=l(this),t=(l(".theme-buttons.filters a").removeClass("active"),t.addClass("active"),l(this).data("filter")),e=l(".wpz-onboard_content-main-step-content.premium ul li[data-design-id]"),a=l(".wpz-onboard_content-main-step-content.premium ul li[data-design-id].gutenberg"),i=l(".wpz-onboard_content-main-step-content.premium ul li[data-design-id].elementor");"*"===t?e.removeClass("fade-out").addClass("fade-in"):"gutenberg"===t?(i.removeClass("fade-in").addClass("fade-out"),a.removeClass("fade-out").addClass("fade-in")):"elementor"===t&&(a.removeClass("fade-in").addClass("fade-out"),i.removeClass("fade-out").addClass("fade-in"))})}),(t=>{let n=t(".wpz-onboard_wrapper");t(function(t){var e,a,i;window.location.hash&&(e=window.location.hash)&&(a=n.find('#wpz-onboard_tabs .wpz-onboard_tab a[href="'+e+'"]'),i=a.closest(".wpz-onboard_wrapper").find(".wpz-onboard_content .wpz-onboard_content-main .wpz-onboard_content-main-tab"),a.closest("#wpz-onboard_tabs").find(".wpz-onboard_tab").removeClass("active"),a.closest(".wpz-onboard_tab").addClass("active"),i.removeClass("active"),i.filter('[data-id="'+e+'"]').addClass("active"))})})(jQuery);