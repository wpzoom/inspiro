jQuery(document).ready(l=>{l("#tabs").tabs({activate:function(t,a){a=a.newTab.find("a").attr("href");history.replaceState(null,null,a)}});let d="install_activate_inspiro_starter_sites_plugin";function s(t,a,e,i){var n=t[a].name;l.ajax({method:"POST",url:ajaxurl,data:{action:"inspiro_install_plugin",security:inspiro_admin_pages_vars.nonce,slug:n},beforeSend:function(){var t=l(".plugin-item-"+n);t.addClass("plugin-item--loading"),t.find("a.button").text("Installing...")}}).done(function(t){var a=l(".plugin-item-"+n);a.removeClass("plugin-item--loading"),t.success?(a.addClass("plugin-item--active"),a.find("input[type=checkbox]").prop("disabled",!0),a.find("a.button").text("Active"),a.find("a.button").addClass("button-disabled")):(-1===t.data.indexOf("<p>")&&(t.data="<p>"+t.data+"</p>"),a.find(".js-inspiro-plugin-item-error").append(t.data),a.find("input[type=checkbox]").prop("checked",!1),i=!0)}).fail(function(t){var a=l(".plugin-item-"+n);a.removeClass("plugin-item--loading"),a.find(".js-inpiro-plugin-item-error").append("<p>"+t.statusText+" ("+t.status+")</p>"),i=!0}).always(function(){++a===t.length?e.removeClass("inspiro-button-disabled"):s(t,a,e,i)})}l("#install-inspiro-starter-sites-btn").on("click",function(){var t,a,e,i,n=l(this),s=(n.addClass("button-disabled"),n.find("#install-inspiro-starter-sites-btn-text")),o=s.text(),r=s.data("installing-text"),r=(s.text(r),n.find(".dashicons-update.spin-icon"));r.removeClass("hidden-element"),t=n,a=s,e=o,i=r,l.ajax({url:ajaxurl,type:"POST",data:{action:d,plugin_slug:"inspiro-starter-sites",security:inspiro_admin_pages_vars.nonce},success:()=>{i.addClass("hidden-element"),t.removeClass("button-disabled"),a.text(e),window.location.reload()},error:t=>{a.text(e)}})}),l("#wpz-notice-inspiro-plugin-handle").on("click",function(e){let i=l(this);var n=i.data("plugin-status");if("active"!==n){e.preventDefault();let a=i.text();n=inspiro_admin_pages_vars.installingText;let t=inspiro_admin_pages_vars.redirectingText;i.text(n),l.ajax({url:ajaxurl,type:"POST",data:{action:d,plugin_slug:"inspiro-starter-sites",security:inspiro_admin_pages_vars.nonce},success:()=>{i.text(t),window.location=inspiro_admin_pages_vars.import_url},error:t=>{i.text(a)}})}}),l(".js-inspiro-plugin-item-button").on("click",function(t){t.preventDefault();var t=l(this),a=t.closest(".section_footer").find("input[type=checkbox]").serializeArray();if(console.log(a),0===a.length)return!1;s(a,0,t,!1)}),0===l(".wpz-grid-wrap:not(.optional-plugins) .inspiro-plugin-item .section_footer input[type=checkbox]").serializeArray().length&&l(".js-inspiro-install-all-plugins").addClass("button-disabled"),l(".js-inspiro-install-all-plugins").on("click",function(t){t.preventDefault();var t=l(this),a=l(".wpz-grid-wrap:not(.optional-plugins) .inspiro-plugin-item .section_footer input[type=checkbox]").serializeArray();if(0===a.length)return!1;t.addClass("button-disabled"),s(a,0,t,!1)}),l(".theme-buttons.filters a").on("click",function(t){t.preventDefault();var t=l(this),t=(l(".theme-buttons.filters a").removeClass("active"),t.addClass("active"),l(this).data("filter")),a=l(".wpz-onboard_content-main-step-content.premium ul li[data-design-id]"),e=l(".wpz-onboard_content-main-step-content.premium ul li[data-design-id].gutenberg"),i=l(".wpz-onboard_content-main-step-content.premium ul li[data-design-id].elementor");"*"===t?a.removeClass("fade-out").addClass("fade-in"):"gutenberg"===t?(i.removeClass("fade-in").addClass("fade-out"),e.removeClass("fade-out").addClass("fade-in")):"elementor"===t&&(e.removeClass("fade-in").addClass("fade-out"),i.removeClass("fade-out").addClass("fade-in"))})}),(t=>{let n=t(".wpz-onboard_wrapper");t(function(t){var a,e,i;window.location.hash&&(a=window.location.hash)&&(e=n.find('#wpz-onboard_tabs .wpz-onboard_tab a[href="'+a+'"]'),i=e.closest(".wpz-onboard_wrapper").find(".wpz-onboard_content .wpz-onboard_content-main .wpz-onboard_content-main-tab"),e.closest("#wpz-onboard_tabs").find(".wpz-onboard_tab").removeClass("active"),e.closest(".wpz-onboard_tab").addClass("active"),i.removeClass("active"),i.filter('[data-id="'+a+'"]').addClass("active"))})})(jQuery);